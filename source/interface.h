#pragma once

#include "my_map.h"

#include <string>
#include <Windows.h> 

class Interface {
public:
    // Конструктор:
    // Принимает ссылку на объект Map для управления данными.
    Interface(Map& my_map);

    // Выбор числа из диапазона [a, b] или специального символа (по умолчанию '1').
    // Возвращает ASCII-код нажатой клавиши.
    int NumberSelection(int a, int b, int c = '1');

    // Основная функция интерфейса:
    // - Настраивает консоль (русская раскладка, кодировка).
    // - Создает папки Input/Output (если их нет).
    // - Запускает стартовое меню.
    void Realization();

    // Стартовое меню программы:
    // Выводит описание программы и ожидает нажатия клавиши.
    void StartMenu();

    // Основное рабочее меню:
    // Предоставляет выбор действий (добавление, удаление, вывод данных и т. д.).
    void WorkMenu();

    // Меню добавления данных:
    // Позволяет выбрать способ ввода (с клавиатуры или из файла).
    void AddMenu();

    // Меню удаления данных:
    // Позволяет удалить конкретный элемент или очистить весь словарь.
    void DeleteMenu();

    // Сохранение данных словаря в файл:
    // Создает файл в папке Output с именем, содержащим текущую дату и время.
    void SaveInFile();

private:
    // Ввод данных с клавиатуры:
    // Запрашивает у пользователя ключ и значение.
    void InputKeyboard();

    // Поиск файла в папке Input:
    // Выводит список доступных файлов и позволяет выбрать один для загрузки.
    void FindFileForInput();

    // Загрузка данных из файла:
    // Читает пары "ключ-значение" из указанного файла и добавляет их в словарь.
    void InputFromFile(std::string name);

    // Удаление элемента по ключу:
    // Запрашивает ключ и удаляет соответствующий элемент из словаря.
    void DeleteElem();

    // Полная очистка словаря:
    // Удаляет все элементы после подтверждения пользователя.
    void DeleteAllData();

    // Получение текущего времени и даты:
    // Возвращает строку в формате "DD.MM.YYYY HH.MM.SS".
    std::string FindTime();

    Map& my_map_;  // Ссылка на объект Map для хранения и управления данными.
};